---
layout: post
title:  "Python中的实参和形参"
categories: Python
tags:  python 基础知识 找工作必备
author: zyy
---

* content
{:toc}

## 前言

实参和形参是函数调用的数据传输通道！函数调用在编程中是十分常用的操作，熟悉实参和形参十分重要。

## 实参(argument)：
  全称为"实际参数"，是在调用时传递给函数的参数。实参可以是常量、变量、表达式、函数等。无论实参是何种类型的量，在进行函数调用时，它们都**必须具有确定的值**，以便把这些值传送给形参。 因此应预先用赋值，输入等办法使实参获得确定值。




## 形参(parameter)：

全称为"形式参数"，由于它不是实际存在变量，所以又称虚拟变量。是在定义函数名和函数体的时候使用的参数,目的是用来接收调用该函数时传入的参数。在调用函数时，实参将赋值给形参。因而，必须注意实参的个数，类型应与形参**一一对应**，并且实参必须要有确定的值。

形参是函数被调用时用于接收实参值的变量，根据实际需要可有可无。没有形参时，圆括号也**不可省**；多个参数之间应用逗号分隔。参数包括参数名和参数类型。

## 形参和实参的异同

**形参和实参的功能是作数据传送。发生函数调用时，主调函数把实参的值传送给被调函数的形参，从而实现主调函数向被调函数的数据传送。**

1. 形参变量只有在被调用时才分配内存单元，在调用结束时，即刻释放所分配的内存单元。因此，形参只有在函数内部有效。 函数调用结束返回主调函数后则不能再使用该形参变量。 

2. 实参出现在主调函数中，进入被调函数后，实参变量也不能使用。

3. 实参和形参在数量上，类型上，顺序上应严格一致， 否则会发生“类型不匹配”的错误。

4. 函数调用中发生的数据传送是**单向的**。即只能把实参的值传送给形参，而不能把形参的值反向地传送给实参。 因此在函数调用过程中，形参的值发生改变，而实参中的值不会变化。

5. 当形参和实参不是指针类型时，在该函数运行时，形参和实参是不同的变量，他们在内存中位于不同的位置，形参将实参的内容复制一份，在该函数运行结束的时候形参被释放，而实参内容**不会改变**。而如果函数的参数是**指针类型变量**,在调用该函数的过程中，传给函数的是实参的地址，在函数体内部使用的也是实参的地址，即使用的就是实参本身。所以在函数体内部**可以改变实参的值**。


## 参数传递

参数传递方式分为两种：值传递和引用传递。

值传递:表示直接传递变量的值，把传递过来的变量的值复制到形参中，这样在函数内部的操作**不会**影响到外部的变量。

引用传递:把引用理解为变量（标识符）与数据之间的引用关系，标识符通过引用指向某块内存地址。而引用传递，传递过来的就是这个关系，当你修改内容的时候，就是修改这个标识符所指向的内存地址中的内容，因为外部也是指向这个内存中的内容的，所以，在函数内部修改就**会影响**函数外部的内容。

C++中是传值和传引用（指针）。C语言加上*号传递指针就是引用传递，而直接传递变量名就是值传递。

Java是传值（传值和传引用，只不过引用就是内存地址，所以也是值）。Java里区分值和引用，是因为值存储在栈里，而引用对象存储在堆里（引用本身在栈里）。

Python中所有的都是对象，都是引用，所以所谓的值类型都是不可变类型。类似于Java的字符串类型。所以**Python中的参数传递都是传递引用**，也就是传递的是内存地址。只不过对于不可变类型，传递引用和传递值没什么区别。而对于可变类型，传递引用是真的传递内存的地址。

Python只允许引用传递是为方便内存管理，因为python使用的内存回收机制是计数器回收，就是每块内存上有一个计数器，表示当前有多少个对象指向该内存。每当一个变量不再使用时，就让该计数器-1，有新对象指向该内存时就让计数器+1，当计时器为0时，就可以收回这块内存了。当然还有其他的GC方法，否则计数器回收，无法解决循环引用的问题。
不可变类型对效率和性能影响很大的。



